<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Defending your room | Screeps Documentation</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="http://docs.screeps.com/defense.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="http://docs.screeps.com/defense.html">
    
      <link rel="alternative" hreflang="zh-tw" href="http://docs.screeps.com/zh-tw/defense.html">
    
      <link rel="alternative" hreflang="zh-cn" href="http://docs.screeps.com/zh-cn/defense.html">
    
      <link rel="alternative" hreflang="ru" href="http://docs.screeps.com/ru/defense.html">
    
      <link rel="alternative" hreflang="ko" href="http://docs.screeps.com/ko/defense.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="./icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="./icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="./icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="./icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="./icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="./icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="./icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="./icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="./icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="./icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="./icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="./icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="./icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="./css/navy.css?1">
  <link rel="stylesheet" href="./css/prism.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="./atom.xml" title="Screeps Documentation">
  <!-- Open Graph -->
  <meta name="description" content="The world of Screeps is not the safest place on earth. This article explains what means do you have in order to protect yourself from invasions. Safe modeWhen you just start out in the game, you have">
<meta property="og:type" content="website">
<meta property="og:title" content="Defending your room">
<meta property="og:url" content="http://docs.screeps.com/defense.html">
<meta property="og:site_name" content="Screeps Documentation">
<meta property="og:description" content="The world of Screeps is not the safest place on earth. This article explains what means do you have in order to protect yourself from invasions. Safe modeWhen you just start out in the game, you have">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://docs.screeps.com/img/safe_mode.png">
<meta property="og:image" content="http://docs.screeps.com/img/defense1.png">
<meta property="og:image" content="http://docs.screeps.com/img/defense2.png">
<meta property="og:image" content="http://docs.screeps.com/img/defense3.png">
<meta property="og:image" content="http://docs.screeps.com/img/defense4.png">
<meta property="og:updated_time" content="2017-09-07T09:25:14.854Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Defending your room">
<meta name="twitter:description" content="The world of Screeps is not the safest place on earth. This article explains what means do you have in order to protect yourself from invasions. Safe modeWhen you just start out in the game, you have">
<meta name="twitter:image" content="http://docs.screeps.com/img/safe_mode.png">
  <!-- Google Analytics -->
  
</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="https://screeps.com" id="logo">Screeps</a>
      <a href="./index.html" id="logo-docs">docs</a>
    </h1>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
    <div id="header-main"></div>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name" id="top">Defending your room</h1>
                <a href="https://github.com/screeps/docs/edit/master/source/defense.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                
                <p>The world of Screeps is not the safest place on earth. This article explains what means do you have in order to protect yourself from invasions.</p>
<h2 id="Safe-mode" class="article-heading"><a href="#Safe-mode" class="headerlink" title="Safe mode"></a>Safe mode<a class="article-anchor" href="#Safe-mode" aria-hidden="true"></a></h2><p>When you just start out in the game, you have <strong>Safe Mode</strong> turned on in your room. It means that no other creep will be able to use any harmful methods in this room (but you’ll still be able to defend against strangers).</p>
<p><img src="img/safe_mode.png" alt=""></p>
<p>Safe mode lasts for <strong>20,000 game ticks</strong> (approx. 15 hours depending on the tick duration). However, if the room controller has extra available activations, you can turn on safe mode again using the method <a href="./api/#StructureController.activateSafeMode"><code>StructureController.activateSafeMode</code></a>:</p>
<pre class="highlight undefined tab-undefined "><code>Game<span class="token punctuation">.</span>rooms<span class="token punctuation">.</span>W1N1<span class="token punctuation">.</span>controller<span class="token punctuation">.</span><span class="token function">activateSafeMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>A controller obtains one activation with each new level. Besides, you can add more activations to your controller with the help of the ghodium resource using the method <a href="./api/#Creep.generateSafeMode"><code>Creep.generateSafeMode</code></a>.</p>
<p>Safe mode is a last resort defense tactics, when everything else has failed. Besides, safe mode can be active only in one room at the same time. For more robust defense you should use walls, ramparts, towers, and creep defenders.</p>
<h2 id="Passive-defense-walls" class="article-heading"><a href="#Passive-defense-walls" class="headerlink" title="Passive defense: walls"></a>Passive defense: walls<a class="article-anchor" href="#Passive-defense-walls" aria-hidden="true"></a></h2><p>The most easy and trivial way to defend your room is to build the same <strong>walls</strong> as in the initial grace period. There is a difference though: while the initial walls were right on doorways blocking outside creeps, your new walls may be built not closer than 2 squares to the room edges, and hostile creeps will still be able to enter the room and destroy your fortifications. This is why it&#39;s crucial not to just build, but also <strong>fortify</strong> your walls in such a way that it takes your opponents much time to destroy them.</p>
<p><img src="img/defense1.png" alt=""></p>
<p>After a wall is built, its square has only <strong>1 hit point</strong>. So if you want the wall to cause any trouble to the attackers for at least several hours (or even days), you should fortify it with the help of workers and the <a href="./api/#Creep.repair"><code>repair</code></a> action. The maximum number of hits you can repair the wall to is <strong>300,000,000 hits</strong>. If you spend much resources, such a wall can withstand attacks for many days. And it is just a single square, while you can build multiple rows of walls!</p>
<h2 id="Passive-defense-ramparts" class="article-heading"><a href="#Passive-defense-ramparts" class="headerlink" title="Passive defense: ramparts"></a>Passive defense: ramparts<a class="article-anchor" href="#Passive-defense-ramparts" aria-hidden="true"></a></h2><p>However, walls have a considerable disadvantage: they block not only hostile creeps, but your own ones too. Building walls at exits will prevent your own expansion from your room.</p>
<p>This is why you have another passive defense means – <strong>ramparts</strong>. They behave like walls for hostile creeps by blocking their movements, while your creeps can freely pass through them. Furthermore, a creep on a rampart square is completely invulnerable for any kind of attack until the rampart is destroyed. Being protected, it can still attack opponents.</p>
<p><img src="img/defense2.png" alt=""></p>
<p>In the same way as walls, ramparts are built with <strong>1 hit point</strong> initially and need to be fortified to a needed level by workers afterwards. The maximum amount of rampart hits depends on the <strong>Room Controller level</strong>. See more about that in the article <a href="./control.html">Control</a>.</p>
<p>A rampart has another peculiarity: its superior defense abilities must be constantly maintained on a proper level. Every several ticks, a rampart loses its hit points, so you should assign a worker to make sure that all your ramparts stand alert and don&#39;t wear off.</p>
<h2 id="Active-defense-towers" class="article-heading"><a href="#Active-defense-towers" class="headerlink" title="Active defense: towers"></a>Active defense: towers<a class="article-anchor" href="#Active-defense-towers" aria-hidden="true"></a></h2><p>While a well-designed passive defenses may withstand attacks for many days (for example, while you are offline and out of the game), they will inevitably fall sometime. This is why it&#39;s utterly important not to rely on fortifications alone but install defense systems to repel opponents when needed.</p>
<p><img src="img/defense3.png" alt=""></p>
<p>You сan use <strong>towers</strong> for active defense which are available to build starting from the room level 3. Unlike walls and ramparts, this defense means is active because using it requires energy and direct calling of the attack function. It can <a href="./api/#Creep.attack"><code>attack</code></a> and <a href="./api/#Creep.heal"><code>heal</code></a> creeps as well as <a href="./api/#Creep.repair"><code>repair</code></a> structures (for example broken walls and ramparts).</p>
<blockquote class="note info"><p>The tower range covers the whole room, but the effect weakens with the distance to the target. Always place towers as close to their potential targets as possible.</p>
</blockquote>
<p>Each action consumes <strong>10 energy units</strong>, so ensure that your creeps watch over energy supplies in the tower and replenish them when needed.   </p>
<p>Here is an example of a simple code to attack enemy creeps using towers in a room:</p>
<pre class="highlight undefined tab-undefined "><code><span class="token keyword">function</span> <span class="token function">defendRoom</span><span class="token punctuation">(</span>roomName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> hostiles <span class="token operator">=</span> Game<span class="token punctuation">.</span>rooms<span class="token punctuation">[</span>roomName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>FIND_HOSTILE_CREEPS<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>hostiles<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> username <span class="token operator">=</span> hostiles<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>owner<span class="token punctuation">.</span>username<span class="token punctuation">;</span>
        Game<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`User </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> spotted in room </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>roomName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> towers <span class="token operator">=</span> Game<span class="token punctuation">.</span>rooms<span class="token punctuation">[</span>roomName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
            FIND_MY_STRUCTURES<span class="token punctuation">,</span> <span class="token punctuation">{</span>filter<span class="token punctuation">:</span> <span class="token punctuation">{</span>structureType<span class="token punctuation">:</span> STRUCTURE_TOWER<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        towers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>tower <span class="token operator">=</span><span class="token operator">></span> tower<span class="token punctuation">.</span><span class="token function">attack</span><span class="token punctuation">(</span>hostiles<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><h2 id="Active-defense-creeps" class="article-heading"><a href="#Active-defense-creeps" class="headerlink" title="Active defense: creeps"></a>Active defense: creeps<a class="article-anchor" href="#Active-defense-creeps" aria-hidden="true"></a></h2><p>While towers are a handy method of active defense, it’s not an ultimate panacea against any offense. A well-secured team of creep invaders are able to withstand the attack by multiple towers at point-blank range. Countering such an attack requires a symmetrical response: creep defenders.</p>
<p><img src="img/defense4.png" alt=""></p>
<p>Since ramparts have an ability to protect everything on the same square from any damage, develop your defense system in such a way that any attacked square adjoins a creep defender covered by a rampart. But note that building them continuously, even in peacetime, is a waste of resources. It’s better to construct them quickly during a siege.</p>
<p>Writing AI logic for such creeps is quite complicated, but it’s the only way to protect your rooms against virtually any encroachment.</p>
<blockquote class="note info"><p>You can spawn <a href="./invaders.html">NPC invader creeps</a> in your room in order to test your defences.</p>
</blockquote>
<p>Therefore, designing good fortification system with proper behaviour logic will make your room a very difficult target for invaders. However, never rest on your laurels by hunkering down in your rooms. As we know, the best defense is offense.</p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2017-09-07T09:25:14.854Z" itemprop="dateModified">Last updated: Sep 07, 2017</time>
                <a href="./control.html" class="article-footer-prev"><i class="fa fa-chevron-left"></i><span>Control</span></a><a href="./respawn.html" class="article-footer-next"><span>Respawning</span><i class="fa fa-chevron-right"></i></a>
              </footer>
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Safe-mode"><span class="toc-text">Safe mode</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Passive-defense-walls"><span class="toc-text">Passive defense: walls</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Passive-defense-ramparts"><span class="toc-text">Passive defense: ramparts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Active-defense-towers"><span class="toc-text">Active defense: towers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Active-defense-creeps"><span class="toc-text">Active defense: creeps</span></a></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
            
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><a href="./api/" class=api-link><span>API Reference</span><img src="/img/link-external.svg"></a><a href="./index.html" class="sidebar-link">Overview</a><strong class="sidebar-title">Gameplay</strong><a href="./introduction.html" class="sidebar-link">Introduction</a><a href="./creeps.html" class="sidebar-link">Creeps</a><a href="./control.html" class="sidebar-link">Control</a><a href="./defense.html" class="sidebar-link current">Defense</a><a href="./respawn.html" class="sidebar-link">Respawning</a><a href="./start-areas.html" class="sidebar-link">Start Areas</a><a href="./minerals.html" class="sidebar-link">Minerals</a><a href="./market.html" class="sidebar-link">Market</a><a href="./invaders.html" class="sidebar-link">NPC Invaders</a><a href="./power.html" class="sidebar-link">Power</a><strong class="sidebar-title">Scripting</strong><a href="./scripting-basics.html" class="sidebar-link">Scripting Basics</a><a href="./global-objects.html" class="sidebar-link">Global Objects</a><a href="./modules.html" class="sidebar-link">Modules</a><a href="./debugging.html" class="sidebar-link">Debugging</a><a href="./game-loop.html" class="sidebar-link">Game Loop</a><a href="./commit.html" class="sidebar-link">External Commit</a><a href="./simultaneous-actions.html" class="sidebar-link">Simultaneous Actions</a><a href="./cpu-limit.html" class="sidebar-link">CPU Limit</a><strong class="sidebar-title">Other</strong><a href="./architecture.html" class="sidebar-link">Server-Side Architecture</a><a href="./subscription.html" class="sidebar-link">Why Subscription?</a><a href="./ptr.html" class="sidebar-link">Public Test Realm (PTR)</a><a href="./third-party.html" class="sidebar-link">Third Party Tools</a><a href="./tos.html" class="sidebar-link">Terms of Service</a><a href="./privacy-policy.html" class="sidebar-link">Privacy Policy</a><strong class="sidebar-title">Resources</strong><a href="http://blog.screeps.com" class="sidebar-link">Blog</a><a href="http://blog.screeps.com/categories/Changelogs/" class="sidebar-link">Changelogs</a><a href="http://chat.screeps.com" class="sidebar-link">Chat</a><a href="https://screeps.com/forum/" class="sidebar-link">Forum</a><strong class="sidebar-title">Contributed Articles</strong><a href="./contributed/rules.html" class="sidebar-link">Contribution Rules</a><a href="./contributed/advanced_grunt.html" class="sidebar-link">Advanced Grunt Usage</a><a href="./contributed/modifying-prototypes.html" class="sidebar-link">Modifying Prototypes</a><a href="./contributed/caching-overview.html" class="sidebar-link">Caching Overview</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2017 <a href="https://zespia.tw/" target="_blank">Screeps</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://github.com/screeps/docs" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    
      <a href="./api/" class=api-link><span>API Reference</span><img src="/img/link-external.svg"></a><a href="./index.html" class="mobile-nav-link">Overview</a><strong class="mobile-nav-title">Gameplay</strong><a href="./introduction.html" class="mobile-nav-link">Introduction</a><a href="./creeps.html" class="mobile-nav-link">Creeps</a><a href="./control.html" class="mobile-nav-link">Control</a><a href="./defense.html" class="mobile-nav-link current">Defense</a><a href="./respawn.html" class="mobile-nav-link">Respawning</a><a href="./start-areas.html" class="mobile-nav-link">Start Areas</a><a href="./minerals.html" class="mobile-nav-link">Minerals</a><a href="./market.html" class="mobile-nav-link">Market</a><a href="./invaders.html" class="mobile-nav-link">NPC Invaders</a><a href="./power.html" class="mobile-nav-link">Power</a><strong class="mobile-nav-title">Scripting</strong><a href="./scripting-basics.html" class="mobile-nav-link">Scripting Basics</a><a href="./global-objects.html" class="mobile-nav-link">Global Objects</a><a href="./modules.html" class="mobile-nav-link">Modules</a><a href="./debugging.html" class="mobile-nav-link">Debugging</a><a href="./game-loop.html" class="mobile-nav-link">Game Loop</a><a href="./commit.html" class="mobile-nav-link">External Commit</a><a href="./simultaneous-actions.html" class="mobile-nav-link">Simultaneous Actions</a><a href="./cpu-limit.html" class="mobile-nav-link">CPU Limit</a><strong class="mobile-nav-title">Other</strong><a href="./architecture.html" class="mobile-nav-link">Server-Side Architecture</a><a href="./subscription.html" class="mobile-nav-link">Why Subscription?</a><a href="./ptr.html" class="mobile-nav-link">Public Test Realm (PTR)</a><a href="./third-party.html" class="mobile-nav-link">Third Party Tools</a><a href="./tos.html" class="mobile-nav-link">Terms of Service</a><a href="./privacy-policy.html" class="mobile-nav-link">Privacy Policy</a><strong class="mobile-nav-title">Resources</strong><a href="http://blog.screeps.com" class="mobile-nav-link">Blog</a><a href="http://blog.screeps.com/categories/Changelogs/" class="mobile-nav-link">Changelogs</a><a href="http://chat.screeps.com" class="mobile-nav-link">Chat</a><a href="https://screeps.com/forum/" class="mobile-nav-link">Forum</a><strong class="mobile-nav-title">Contributed Articles</strong><a href="./contributed/rules.html" class="mobile-nav-link">Contribution Rules</a><a href="./contributed/advanced_grunt.html" class="mobile-nav-link">Advanced Grunt Usage</a><a href="./contributed/modifying-prototypes.html" class="mobile-nav-link">Modifying Prototypes</a><a href="./contributed/caching-overview.html" class="mobile-nav-link">Caching Overview</a>
    
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/js/lang_select.js"></script>
<script src="/js/scrollingelement.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/mobile_nav.js"></script>
<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>

<!-- Algolia -->


</body>
</html>