<h1 id="StructureController"><a href="#StructureController" class="headerlink" title="StructureController"></a>StructureController</h1><p><img src="img/controller.png" alt="" align="right"></p>
<p>Claim this structure to take control over the room. The controller structure cannot be damaged or destroyed. </p>
<p>It can be addressed by <a href="#Room.controller"><code>Room.controller</code></a> property.</p>
<table class="table gameplay-info">
    <tbody>
    <tr>
        <th><strong>Level</strong></th>
        <th>Upgrade to next level</th>
        <th>Downgrade timer</th>
    </tr>
    <tr>
        <td>1</td>
        <td>200 energy</td>
        <td>20,000 ticks</td>
    </tr>
    <tr>
        <td>2</td>
        <td>45,000 energy</td>
        <td>5,000 ticks</td>
    </tr>
    <tr>
        <td>3</td>
        <td>135,000 energy</td>
        <td>10,000 ticks</td>
    </tr>
    <tr>
        <td>4</td>
        <td>405,000 energy</td>
        <td>20,000 ticks</td>
    </tr>
    <tr>
        <td>5</td>
        <td>1,215,000 energy</td>
        <td>40,000 ticks</td>
    </tr>
    <tr>
        <td>6</td>
        <td>3,645,000 energy</td>
        <td>60,000 ticks</td>
    </tr>
    <tr>
        <td>7</td>
        <td>10,935,000 energy</td>
        <td>100,000 ticks</td>
    </tr>
    <tr>
        <td>8</td>
        <td>—</td>
        <td>150,000 ticks</td>
    </tr>
    </tbody>
</table>

<h3 id="Safe-mode"><a href="#Safe-mode" class="headerlink" title="Safe mode"></a>Safe mode</h3><table class="gameplay-info">
    <tbody>
    <tr>
        <td><strong>Effect</strong></td>
        <td>Blocks <code>attack</code>, <code>rangedAttack</code>, <code>rangedMassAttack</code>, <code>dismantle</code>, <code>heal</code>, <code>rangedHeal</code>, <code>attackController</code> and <code>withdraw</code> methods of all hostile creeps in the room. Only one room can be in safe mode at the same time.<br>
    When safe mode is active, all hostile creeps become visually transparent and passable - your creeps can move through them freely (but not vice versa).</td>
    </tr>
    <tr>
        <td><strong>Duration</strong></td>
        <td>20,000 ticks</td>
    </tr>
    <tr>
        <td><strong>Cooldown</strong></td>
        <td>50,000 ticks (no cooldown in Novice Areas)</td>
    </tr>
    <tr>
        <td><strong>Generation</strong></td>
        <td>
            <ul>
                <li>Each new controller level generates one available activation</li>
                <li>Can be generated by creeps using 1,000 ghodium</li>
                <li>All available activations are reset if the controller is downgraded</li>
            </ul>
        </td>
    </tr>
    </tbody>
</table>

<h2 id="pos" class="api-property api-property--property api-property--inherited"><div class="api-property__inherited">Inherited from <a href="#RoomObject">RoomObject</a></div><span class="api-property__name">pos</span><span class="api-property__type"><a href="#RoomPosition">RoomPosition</a></span></h2>
<p>An object representing the position of this object in the room.</p>
<h2 id="room" class="api-property api-property--property api-property--inherited"><div class="api-property__inherited">Inherited from <a href="#RoomObject">RoomObject</a></div><span class="api-property__name">room</span><span class="api-property__type"><a href="#Room">Room</a></span></h2>
<p>The link to the Room object. May be undefined in case if an object is a flag or a construction site and is placed in a room that is not visible to you.</p>

<h2 id="hits" class="api-property api-property--property api-property--inherited"><div class="api-property__inherited">Inherited from <a href="#Structure">Structure</a></div><span class="api-property__name">hits</span><span class="api-property__type">number</span></h2>
<p>The current amount of hit points of the structure.</p>
<h2 id="hitsMax" class="api-property api-property--property api-property--inherited"><div class="api-property__inherited">Inherited from <a href="#Structure">Structure</a></div><span class="api-property__name">hitsMax</span><span class="api-property__type">number</span></h2>
<p>The total amount of hit points of the structure.</p>
<h2 id="id" class="api-property api-property--property api-property--inherited"><div class="api-property__inherited">Inherited from <a href="#Structure">Structure</a></div><span class="api-property__name">id</span><span class="api-property__type">string</span></h2>
<p>A unique object identificator. You can use <a href="#Game.getObjectById"><code>Game.getObjectById</code></a> method to retrieve an object instance by its <code>id</code>.</p>
<h2 id="structureType" class="api-property api-property--property api-property--inherited"><div class="api-property__inherited">Inherited from <a href="#Structure">Structure</a></div><span class="api-property__name">structureType</span><span class="api-property__type">string</span></h2>
<p>One of the <code>STRUCTURE_*</code> constants.</p>
<h2 id="Structure-destroy" class="api-property api-property--method api-property--inherited "><div class="api-property__inherited">Inherited from <a href="#Structure">Structure</a></div><span class="api-property__name">destroy</span><span class="api-property__args">()</span>
        <div class="api-property__cpu api-property__cpu--A" title="This method is an action that changes game state. It has additional 0.2 CPU cost added to its natural cost in case if OK code is returned."></div>
        </h2>
<p>Destroy this structure immediately.</p>
<h3 id="Return-value"><a href="#Return-value" class="headerlink" title="Return value"></a>Return value</h3><p>One of the following codes:
<table class="api-return-codes"><thead><tr><th>constant</th><th>value</th><th>description</th></tr></thead><tbody>
<tr><td><code>OK</code></td><td>0</td><td><p>The operation has been scheduled successfully.</p>
</td></tr>
<tr><td><code>ERR_NOT_OWNER</code></td><td>-1</td><td><p>You are not the owner of this structure.</p>
</td></tr>
<tr><td><code>ERR_BUSY</code></td><td>-4</td><td><p>Hostile creeps are in the room.</p>
</td></tr>
</tbody></table>
</p>
<h2 id="Structure-isActive" class="api-property api-property--method api-property--inherited "><div class="api-property__inherited">Inherited from <a href="#Structure">Structure</a></div><span class="api-property__name">isActive</span><span class="api-property__args">()</span>
        <div class="api-property__cpu api-property__cpu--2" title="This method has medium CPU cost."></div>
        </h2>
<p>Check whether this structure can be used. If room controller level is insufficient, then this method will return false, and the structure will be highlighted with red in the game.</p>
<h3 id="Return-value-1"><a href="#Return-value-1" class="headerlink" title="Return value"></a>Return value</h3><p>A boolean value.</p>
<h2 id="Structure-notifyWhenAttacked" class="api-property api-property--method api-property--inherited "><div class="api-property__inherited">Inherited from <a href="#Structure">Structure</a></div><span class="api-property__name">notifyWhenAttacked</span><span class="api-property__args">(enabled)</span>
        <div class="api-property__cpu api-property__cpu--A" title="This method is an action that changes game state. It has additional 0.2 CPU cost added to its natural cost in case if OK code is returned."></div>
        </h2>
<p>Toggle auto notification when the structure is under attack. The notification will be sent to your account email. Turned on by default.</p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>enabled</code></td><td>boolean</td><td><p>Whether to enable notification or disable.</p>
</td>
</tr></tbody></table>

<h3 id="Return-value-2"><a href="#Return-value-2" class="headerlink" title="Return value"></a>Return value</h3><p>One of the following codes:
<table class="api-return-codes"><thead><tr><th>constant</th><th>value</th><th>description</th></tr></thead><tbody>
<tr><td><code>OK</code></td><td>0</td><td><p>The operation has been scheduled successfully.</p>
</td></tr>
<tr><td><code>ERR_NOT_OWNER</code></td><td>-1</td><td><p>You are not the owner of this structure.</p>
</td></tr>
<tr><td><code>ERR_INVALID_ARGS</code></td><td>-10</td><td><p><code>enable</code> argument is not a boolean value.</p>
</td></tr>
</tbody></table>
</p>
  
<h2 id="my" class="api-property api-property--property api-property--inherited"><div class="api-property__inherited">Inherited from <a href="#OwnedStructure">OwnedStructure</a></div><span class="api-property__name">my</span><span class="api-property__type">boolean</span></h2>
<p>Whether this is your own structure.</p>
<h2 id="owner" class="api-property api-property--property api-property--inherited"><div class="api-property__inherited">Inherited from <a href="#OwnedStructure">OwnedStructure</a></div><span class="api-property__name">owner</span><span class="api-property__type">object</span></h2>
<p>An object with the structure’s owner info containing the following properties:</p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>username</code></td><td>string</td><td><p>The name of the owner user.</p>
</td>
</tr></tbody></table>


<h2 id="level" class="api-property api-property--property "><span class="api-property__name">level</span><span class="api-property__type">number</span></h2>
<p>Current controller level, from 0 to 8.</p>
<h2 id="progress" class="api-property api-property--property "><span class="api-property__name">progress</span><span class="api-property__type">number</span></h2>
<p>The current progress of upgrading the controller to the next level.</p>
<h2 id="progressTotal" class="api-property api-property--property "><span class="api-property__name">progressTotal</span><span class="api-property__type">number</span></h2>
<p>The progress needed to reach the next level.</p>
<h2 id="reservation" class="api-property api-property--property "><span class="api-property__name">reservation</span><span class="api-property__type">object</span></h2>
<p>An object with the controller reservation info if present:</p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>username</code></td><td>string</td><td><p>The name of a player who reserved this controller.</p>
</td>
</tr><tr><td><code>ticksToEnd</code></td><td>number</td><td><p>The amount of game ticks when the reservation will end.</p>
</td>
</tr></tbody></table>

<h2 id="safeMode" class="api-property api-property--property "><span class="api-property__name">safeMode</span><span class="api-property__type">number</span></h2>
<p>How many ticks of safe mode remaining, or undefined.</p>
<h2 id="safeModeAvailable" class="api-property api-property--property "><span class="api-property__name">safeModeAvailable</span><span class="api-property__type">number</span></h2>
<p>Safe mode activations available to use.</p>
<h2 id="safeModeCooldown" class="api-property api-property--property "><span class="api-property__name">safeModeCooldown</span><span class="api-property__type">number</span></h2>
<p>During this period in ticks new safe mode activations will be blocked, undefined if cooldown is inactive.</p>
<h2 id="sign" class="api-property api-property--property "><span class="api-property__name">sign</span><span class="api-property__type">object</span></h2>
<p>An object with the controller sign info if present:</p>
<table><thead><tr><th>parameter</th><th>type</th><th>description</th></tr></thead><tbody>
<tr><td><code>username</code></td><td>string</td><td><p>The name of a player who signed this controller.</p>
</td>
</tr><tr><td><code>text</code></td><td>string</td><td><p>The sign text.</p>
</td>
</tr><tr><td><code>time</code></td><td>number</td><td><p>The sign time in game ticks.</p>
</td>
</tr><tr><td><code>datetime</code></td><td>Date</td><td><p>The sign real date.</p>
</td>
</tr></tbody></table>

<h2 id="ticksToDowngrade" class="api-property api-property--property "><span class="api-property__name">ticksToDowngrade</span><span class="api-property__type">number</span></h2>
<p>The amount of game ticks when this controller will lose one level. This timer can be reset by using <code><a href="#Creep.upgradeController">Creep.upgradeController</a></code>.</p>
<h2 id="upgradeBlocked" class="api-property api-property--property "><span class="api-property__name">upgradeBlocked</span><span class="api-property__type">number</span></h2>
<p>The amount of game ticks while this controller cannot be upgraded due to attack. Safe mode is also unavailable during this period.</p>
<h2 id="activateSafeMode" class="api-property api-property--method  "><span class="api-property__name">activateSafeMode</span><span class="api-property__args">()</span>
        <div class="api-property__cpu api-property__cpu--A" title="This method is an action that changes game state. It has additional 0.2 CPU cost added to its natural cost in case if OK code is returned."></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code>room<span class="token punctuation">.</span>controller<span class="token punctuation">.</span><span class="token function">activateSafeMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Activate safe mode if available.</p>
<h3 id="Return-value"><a href="#Return-value" class="headerlink" title="Return value"></a>Return value</h3><p>One of the following codes:
<table class="api-return-codes"><thead><tr><th>constant</th><th>value</th><th>description</th></tr></thead><tbody>
<tr><td><code>OK</code></td><td>0</td><td><p>The operation has been scheduled successfully.</p>
</td></tr>
<tr><td><code>ERR_NOT_OWNER</code></td><td>-1</td><td><p>You are not the owner of this controller.</p>
</td></tr>
<tr><td><code>ERR_BUSY</code></td><td>-4</td><td><p>There is another room in safe mode already.</p>
</td></tr>
<tr><td><code>ERR_NOT_ENOUGH_RESOURCES</code></td><td>-6</td><td><p>There is no safe mode activations available.</p>
</td></tr>
<tr><td><code>ERR_TIRED</code></td><td>-11</td><td><p>The previous safe mode is still cooling down.</p>
</td></tr>
</tbody></table>
</p>
<h2 id="unclaim" class="api-property api-property--method  "><span class="api-property__name">unclaim</span><span class="api-property__args">()</span>
        <div class="api-property__cpu api-property__cpu--A" title="This method is an action that changes game state. It has additional 0.2 CPU cost added to its natural cost in case if OK code is returned."></div>
        </h2>
<pre class="highlight javascript tab-javascript "><code>room<span class="token punctuation">.</span>controller<span class="token punctuation">.</span><span class="token function">unclaim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Make your claimed controller neutral again.</p>
<h3 id="Return-value-1"><a href="#Return-value-1" class="headerlink" title="Return value"></a>Return value</h3><p>One of the following codes:
<table class="api-return-codes"><thead><tr><th>constant</th><th>value</th><th>description</th></tr></thead><tbody>
<tr><td><code>OK</code></td><td>0</td><td><p>The operation has been scheduled successfully.</p>
</td></tr>
<tr><td><code>ERR_NOT_OWNER</code></td><td>-1</td><td><p>You are not the owner of this controller.</p>
</td></tr>
</tbody></table>
</p>
